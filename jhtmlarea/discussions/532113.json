[
  {
    "Id": "1208917",
    "ThreadId": "532113",
    "Html": "Having tried several ways to upload and save images in jHtmlArea, I ended up with this solution.<br />\nThe image is uploaded to the server and converted to data to insert in the src attribute of the &lt;img/&gt; object.<br />\n<br />\nAll image data are hereafter in the jHtmlArea document.<br />\n<br />\nThe solution is inspired by Eric Bidelman's solution <a href=\"https://gist.github.com/ebidel/2410898\" rel=\"nofollow\">here: </a><br />\n<br />\nTry the demo <a href=\"http://palsbo.net/test/\" rel=\"nofollow\">here:</a><br />\n<br />\nOBS! There is a problem with Safari - please help me!<br />\n<br />\nGet the demo <a href=\"http://palsbo.net/uploads/jHtmlArea_with_xHtmlUpload.zip\" rel=\"nofollow\">here:</a><br />\n<strong>Update 01/17/2014:</strong><br />\nNew download - Safir problem fixed; image resize implemented<br />\n<br />\n<img src=\"http://palsbo.net/images/img1.png\" alt=\"Image\" /><br />\n<br />\nCheck the jHtmlArea html-content using the left button in the toolbar.<br />\n<br />\n<img src=\"http://palsbo.net/images/img2.png\" alt=\"Image\" /><br />\n<br />\nNext plan is to resize the image before sending data back.<br />\nAny suggstions are appreciated.<br />\n<br />\nHope you like it.<br />\n",
    "PostedDate": "2014-02-16T02:08:30.707-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1211483",
    "ThreadId": "532113",
    "Html": "Now - without upload!\r<br />\n<br />\nUsing HTM5 you can read the local image file and resize it on the client-side.  then insert the imageurl directly and the image is embedded in the edited tet. Uploading and saving the image is not required.<br />\n<pre><code>&lt;!DOCTYPE html5&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;utf-8&quot; /&gt;\n&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge,chrome=1&quot; /&gt;\n    &lt;title&gt;jHTtmlAreaUpload Example&lt;/title&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;http://code.jquery.com/jquery-1.10.2.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;http://code.jquery.com/jquery-migrate-1.2.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;js/jHtmlArea-0.7.5.min.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;Stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/jHtmlArea.css&quot; /&gt;\n    &lt;img src=&quot;css/jHtmlArea_Toolbar_Group__Btn_Select_BG.png&quot; /&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n\n        var resize = true;\n        var MAX_WIDTH = 200;\n        var MAX_HEIGHT = 100;\n\n\n        function imgResize(urlImg, MAX_WIDTH, MAX_HEIGHT) {\n\n            var img = document.createElement(&quot;img&quot;);\n            img.src = urlImg\n            var canvas = document.createElement(&quot;canvas&quot;);\n            //var canvas = $(&quot;&lt;canvas/&gt;&quot;);\n            var ctx = canvas.getContext(&quot;2d&quot;);\n            ctx.drawImage(img, 0, 0);\n            var width = img.width;\n            var height = img.height;\n\n            if (width &gt; height) {\n                if (width &gt; MAX_WIDTH) {\n                    height *= MAX_WIDTH / width;\n                    width = MAX_WIDTH;\n                }\n            } else {\n                if (height &gt; MAX_HEIGHT) {\n                    width *= MAX_HEIGHT / height;\n                    height = MAX_HEIGHT;\n                }\n            }\n            canvas.width = width;\n            canvas.height = height;\n            ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, canvas.width, canvas.height);\n            return canvas.toDataURL(&quot;image/png&quot;);\n        }\n\n        $(document).ready(function () {\n            $(&quot;#btnRemoveCustomHtmlArea&quot;).click(function () {\n                $(&quot;#txtCustomHtmlArea&quot;).htmlarea(&quot;dispose&quot;);\n            });\n\n            $(&quot;#txtCustomHtmlArea&quot;).htmlarea({\n                toolbar: [\n                    [&quot;html&quot;, &quot;|&quot;, &quot;bold&quot;, &quot;italic&quot;, &quot;underline&quot;, &quot;strikeThrough&quot;, &quot;superscript&quot;, &quot;subscript&quot;, &quot;|&quot;],\n                    [&quot;justifyLeft&quot;, &quot;justifyCenter&quot;, &quot;justifyRight&quot;, &quot;|&quot;],\n                    [&quot;indent&quot;, &quot;outdent&quot;, &quot;|&quot;, &quot;forecolor&quot;],\n                    [&quot;p&quot;, &quot;h1&quot;, &quot;h2&quot;, &quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, &quot;h6&quot;, &quot;increaseFontSize&quot;, &quot;decreaseFontSize&quot;],\n                    [&quot;cut&quot;, &quot;copy&quot;, &quot;paste&quot;, &quot;link&quot;, &quot;unlink&quot;, &quot;|&quot;],\n                    [{\n                        css: &quot;datebutton&quot;,\n                        text: &quot;Today's Date&quot;,\n                        action: function (btn) { }\n                    }],\n                    [{\n                        css: &quot;image&quot;,\n                        text: &quot;Inds√¶t billede&quot;,\n                        action: function (btn) {\n                            $('#afile').unbind('change')\n                                .change(function () {\n                                    var file = $('#afile')[0].files[0];\n                                    var reader = new FileReader();\n                                    reader.onloadend = function (e) {\n                                        if (resize) $('#txtCustomHtmlArea').htmlarea(&quot;image&quot;, imgResize(e.target.result, MAX_WIDTH, MAX_HEIGHT))\n                                        else $('#txtCustomHtmlArea').htmlarea(&quot;image&quot;, e.target.result)\n                                    }\n                                    reader.readAsDataURL(file);\n                                })\n                                .click();\n                        }\n                    }]\n                ],\n                toolbarText: $.extend({}, jHtmlArea.defaultOptions.toolbarText, {\n                    &quot;bold&quot;: &quot;fed&quot;,\n                    &quot;italic&quot;: &quot;kursiv&quot;,\n                    &quot;underline&quot;: &quot;understreget&quot;\n                }),\n                css: &quot;style//jHtmlArea.Editor.css&quot;,\n                loaded: function () {}\n            });\n            $(&quot;div.jHtmlArea div.ToolBar&quot;).append(&quot;&amp;nbsp;&lt;span name='pbar'&gt;&lt;/span&gt;&quot;);\n        })\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;textarea id=&quot;txtCustomHtmlArea&quot; style=&quot;width:100%;height:80%&quot;&gt;&lt;h3&gt;Another TextArea&lt;/h3&gt;This is some sample text to test out the &lt;b&gt;WYSIWYG Control&lt;/b&gt;.&lt;/p&gt;&lt;/textarea&gt;\n    &lt;input type=&quot;file&quot; name=&quot;afile&quot; id=&quot;afile&quot; accept=&quot;image/*&quot; style=&quot;visibility:hidden;&quot;/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\nErik<br />\n",
    "PostedDate": "2014-02-20T17:36:56.43-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]